(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5908:function(e,t,r){Promise.resolve().then(r.bind(r,1195))},1195:function(e,t,r){"use strict";r.d(t,{default:function(){return F}});var a=r(7437),n=r(2265);let o={monthlyAdSpend:3e3,costPerClick:.8,organicVisitorsBase:5e3,organicGrowthRate:5,registrationRate:8,conversionRate:3,monthlyPrice:49,premiumPrice:149,premiumAdoption:0,baseChurnRate:8,supportStaff:2,supportCapacity:200,contentQuality:6,hasGamification:!1,hasCommunity:!1,referralRate:10,referralConversion:15,revenueToMarketing:0,months:36,monteCarloRuns:100,uncertainty:.15},i=[{key:"monthlyAdSpend",label:"Gasto en ads",min:0,max:5e4,step:500,unit:"€/mes",category:"Adquisicion"},{key:"costPerClick",label:"Coste por clic",min:.1,max:5,step:.05,unit:"€",category:"Adquisicion"},{key:"organicVisitorsBase",label:"Trafico organico",min:0,max:1e5,step:1e3,unit:"/mes",category:"Adquisicion"},{key:"organicGrowthRate",label:"Crecimiento SEO",min:0,max:20,step:.5,unit:"%/mes",category:"Adquisicion",tooltip:"Crecimiento compuesto mensual del trafico organico"},{key:"registrationRate",label:"Tasa registro",min:1,max:30,step:.5,unit:"%",category:"Adquisicion"},{key:"conversionRate",label:"Tasa conversion",min:.5,max:15,step:.5,unit:"%",category:"Adquisicion"},{key:"monthlyPrice",label:"Precio mensual",min:9,max:299,step:1,unit:"€",category:"Pricing"},{key:"premiumPrice",label:"Precio premium",min:29,max:499,step:5,unit:"€",category:"Pricing"},{key:"premiumAdoption",label:"Adopcion premium",min:0,max:50,step:1,unit:"%",category:"Pricing"},{key:"baseChurnRate",label:"Churn base",min:1,max:25,step:.5,unit:"%/mes",category:"Retencion"},{key:"supportStaff",label:"Staff soporte",min:0,max:20,step:1,unit:"personas",category:"Retencion"},{key:"supportCapacity",label:"Capacidad/persona",min:50,max:500,step:25,unit:"alumnos",category:"Retencion"},{key:"contentQuality",label:"Calidad contenido",min:1,max:10,step:1,unit:"/10",category:"Retencion"},{key:"referralRate",label:"Alumnos que refieren",min:0,max:40,step:1,unit:"%",category:"Viralidad"},{key:"referralConversion",label:"Conv. referidos",min:0,max:50,step:1,unit:"%",category:"Viralidad"},{key:"revenueToMarketing",label:"Revenue a ads",min:0,max:50,step:1,unit:"%",category:"Reinversion"},{key:"months",label:"Duracion",min:6,max:60,step:6,unit:"meses",category:"Simulacion"},{key:"monteCarloRuns",label:"Runs Monte Carlo",min:10,max:500,step:10,unit:"runs",category:"Simulacion"},{key:"uncertainty",label:"Incertidumbre",min:0,max:.5,step:.05,unit:"",category:"Simulacion",tooltip:"0=determinista, 0.5=alta incertidumbre"}];function s(e){let t=[],r=0,a=0,n=0,o=0,i=0;for(let s=1;s<=e.months;s++){let c=e.organicVisitorsBase*Math.pow(1+e.organicGrowthRate/100,s-1),d=t.length>0?t[t.length-1].mrr:0,m=e.revenueToMarketing/100*d,u=e.monthlyAdSpend+m,x=e.costPerClick>0?u/e.costPerClick:0,h=e.referralRate/100*r*(e.referralConversion/100),f=c+x+h,p=e.registrationRate/100*f,y=e.conversionRate/100*p,j=e.supportStaff*e.supportCapacity,g=j>0?Math.min(1,j/Math.max(1,r+y)):0===r?1:.3,k=1;g<1&&(k*=1+(1-g)*2),k*=1-(e.contentQuality-5)*.1,e.hasGamification&&(k*=.8),e.hasCommunity&&(k*=.75);let b=Math.max(.005,Math.min(.5,e.baseChurnRate/100*k)),v=r*b;r=Math.max(0,r+y-v),a+=v;let C=e.monthlyPrice*(1-e.premiumAdoption/100)+e.premiumPrice*(e.premiumAdoption/100),M=r*C;n+=M,o+=u;let w=(i+=y)>0?o/i:0,R=b>0?C/b:0,S=w>0?R/w:0;t.push({month:s,visitors:Math.round(f),organicVisitors:Math.round(c),paidVisitors:Math.round(x),referralVisitors:Math.round(h),leads:Math.round(p),newStudents:l(y),activeStudents:Math.round(r),churnedTotal:Math.round(a),churnedThisMonth:l(v),mrr:Math.round(M),cumulativeRevenue:Math.round(n),arpu:l(C),effectiveChurnRate:l(100*b),supportQuality:Math.round(100*g),cac:l(w),ltv:Math.round(R),ltvCacRatio:l(S),marketingSpend:Math.round(u)})}return{timeline:t,params:e}}function l(e){return Math.round(100*e)/100}function c(e,t,r){if(0===e.length)return[];let a=e[0].timeline.length,n=[];for(let o=0;o<a;o++){let a=e.map(e=>e.timeline[o]).sort((e,t)=>e[r]-t[r]),i=Math.min(Math.floor(t*a.length),a.length-1);n.push(a[i])}return n}function d(e){let{params:t,onChange:r}=e,n=[...new Set(i.map(e=>e.category))];return(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)("h2",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Hipotesis"}),(0,a.jsxs)(m,{title:"Estrategias",children:[(0,a.jsx)(x,{label:"Gamificacion",desc:"Churn -20%",checked:t.hasGamification,onChange:e=>r("hasGamification",e)}),(0,a.jsx)(x,{label:"Comunidad",desc:"Churn -25%",checked:t.hasCommunity,onChange:e=>r("hasCommunity",e)})]}),n.map(e=>(0,a.jsx)(m,{title:e,children:i.filter(t=>t.category===e).map(e=>(0,a.jsx)(u,{config:e,value:t[e.key],onChange:t=>r(e.key,t)},e.key))},e))]})}function m(e){let{title:t,children:r}=e;return(0,a.jsxs)("div",{className:"space-y-2.5",children:[(0,a.jsx)("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:t}),r]})}function u(e){let{config:t,value:r,onChange:n}=e,o=t.step<1?r.toFixed(t.step<.1?2:1):String(Math.round(r));return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-[11px] mb-0.5",children:[(0,a.jsx)("span",{className:"text-gray-400",title:t.tooltip,children:t.label}),(0,a.jsxs)("span",{className:"text-white font-mono tabular-nums",children:[o,(0,a.jsx)("span",{className:"text-gray-500 ml-0.5",children:t.unit})]})]}),(0,a.jsx)("input",{type:"range",min:t.min,max:t.max,step:t.step,value:r,onChange:e=>n(parseFloat(e.target.value)),className:"w-full"})]})}function x(e){let{label:t,desc:r,checked:n,onChange:o}=e;return(0,a.jsxs)("button",{onClick:()=>o(!n),className:"flex items-center justify-between w-full py-1 group",children:[(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("span",{className:"text-sm text-gray-300",children:t}),(0,a.jsx)("span",{className:"text-[10px] text-gray-600 ml-2",children:r})]}),(0,a.jsx)("div",{className:"w-9 h-5 rounded-full relative transition-colors flex-shrink-0 ".concat(n?"bg-blue-500":"bg-gray-700"),children:(0,a.jsx)("span",{className:"absolute top-0.5 w-4 h-4 rounded-full bg-white transition-transform ".concat(n?"translate-x-4":"translate-x-0.5")})})]})}var h=r(7625),f=r(5678),p=r(6940),y=r(7059),j=r(2994),g=r(8147),k=r(3263),b=r(4061);function v(e){let{results:t}=e,{median:r,p10:n,p25:o,p75:i,p90:s}=t,l=r.map((e,t)=>{var r,a,l,c,d,m,u,x;return{month:e.month,median:e.mrr,p10:null!==(d=null===(r=n[t])||void 0===r?void 0:r.mrr)&&void 0!==d?d:0,p25:null!==(m=null===(a=o[t])||void 0===a?void 0:a.mrr)&&void 0!==m?m:0,p75:null!==(u=null===(l=i[t])||void 0===l?void 0:l.mrr)&&void 0!==u?u:0,p90:null!==(x=null===(c=s[t])||void 0===c?void 0:c.mrr)&&void 0!==x?x:0}}),c=r.map((e,t)=>{var r,a,o,i;return{month:e.month,median:e.activeStudents,p10:null!==(o=null===(r=n[t])||void 0===r?void 0:r.activeStudents)&&void 0!==o?o:0,p90:null!==(i=null===(a=s[t])||void 0===a?void 0:a.activeStudents)&&void 0!==i?i:0}}),d=r.map(e=>({month:e.month,churn:e.effectiveChurnRate,soporte:e.supportQuality})),m=r.map(e=>({month:e.month,ltv:e.ltv,cac:e.cac,ratio:e.ltvCacRatio})),u=r.map(e=>({month:e.month,organico:e.organicVisitors,paid:e.paidVisitors,referidos:e.referralVisitors}));return(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-5",children:[(0,a.jsx)(C,{title:"MRR mensual",subtitle:"Bandas p10-p90 Monte Carlo",children:(0,a.jsx)(h.h,{width:"100%",height:260,children:(0,a.jsxs)(f.c,{data:l,children:[(0,a.jsx)(p.q,{strokeDasharray:"3 3",stroke:"#1f2937"}),(0,a.jsx)(y.K,{dataKey:"month",stroke:"#6b7280",fontSize:10,tickFormatter:e=>"M".concat(e)}),(0,a.jsx)(j.B,{stroke:"#6b7280",fontSize:10,tickFormatter:w}),(0,a.jsx)(g.u,{content:(0,a.jsx)(M,{prefix:"\\u20ac"})}),(0,a.jsx)(k.u,{type:"monotone",dataKey:"p90",fill:"#3b82f6",fillOpacity:.08,stroke:"none"}),(0,a.jsx)(k.u,{type:"monotone",dataKey:"p75",fill:"#3b82f6",fillOpacity:.08,stroke:"none"}),(0,a.jsx)(k.u,{type:"monotone",dataKey:"p25",fill:"#0a0a0f",fillOpacity:.6,stroke:"none"}),(0,a.jsx)(k.u,{type:"monotone",dataKey:"p10",fill:"#0a0a0f",fillOpacity:.8,stroke:"none"}),(0,a.jsx)(b.x,{type:"monotone",dataKey:"median",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"MRR"})]})})}),(0,a.jsx)(C,{title:"Alumnos activos",subtitle:"Crecimiento de la base",children:(0,a.jsx)(h.h,{width:"100%",height:260,children:(0,a.jsxs)(f.c,{data:c,children:[(0,a.jsx)(p.q,{strokeDasharray:"3 3",stroke:"#1f2937"}),(0,a.jsx)(y.K,{dataKey:"month",stroke:"#6b7280",fontSize:10,tickFormatter:e=>"M".concat(e)}),(0,a.jsx)(j.B,{stroke:"#6b7280",fontSize:10}),(0,a.jsx)(g.u,{content:(0,a.jsx)(M,{})}),(0,a.jsx)(k.u,{type:"monotone",dataKey:"p90",fill:"#10b981",fillOpacity:.08,stroke:"none"}),(0,a.jsx)(k.u,{type:"monotone",dataKey:"p10",fill:"#0a0a0f",fillOpacity:.8,stroke:"none"}),(0,a.jsx)(b.x,{type:"monotone",dataKey:"median",stroke:"#10b981",strokeWidth:2,dot:!1,name:"Alumnos"})]})})}),(0,a.jsx)(C,{title:"Churn y soporte",subtitle:"Feedback loop: mas alumnos = peor soporte = mas churn",children:(0,a.jsx)(h.h,{width:"100%",height:260,children:(0,a.jsxs)(f.c,{data:d,children:[(0,a.jsx)(p.q,{strokeDasharray:"3 3",stroke:"#1f2937"}),(0,a.jsx)(y.K,{dataKey:"month",stroke:"#6b7280",fontSize:10,tickFormatter:e=>"M".concat(e)}),(0,a.jsx)(j.B,{yAxisId:"left",stroke:"#ef4444",fontSize:10,tickFormatter:e=>"".concat(e,"%")}),(0,a.jsx)(j.B,{yAxisId:"right",orientation:"right",stroke:"#8b5cf6",fontSize:10,tickFormatter:e=>"".concat(e,"%")}),(0,a.jsx)(g.u,{content:(0,a.jsx)(M,{suffix:"%"})}),(0,a.jsx)(b.x,{yAxisId:"left",type:"monotone",dataKey:"churn",stroke:"#ef4444",strokeWidth:2,dot:!1,name:"Churn %"}),(0,a.jsx)(b.x,{yAxisId:"right",type:"monotone",dataKey:"soporte",stroke:"#8b5cf6",strokeWidth:2,dot:!1,name:"Calidad soporte %",strokeDasharray:"4 4"})]})})}),(0,a.jsx)(C,{title:"Unit economics",subtitle:"LTV, CAC y ratio",children:(0,a.jsx)(h.h,{width:"100%",height:260,children:(0,a.jsxs)(f.c,{data:m,children:[(0,a.jsx)(p.q,{strokeDasharray:"3 3",stroke:"#1f2937"}),(0,a.jsx)(y.K,{dataKey:"month",stroke:"#6b7280",fontSize:10,tickFormatter:e=>"M".concat(e)}),(0,a.jsx)(j.B,{yAxisId:"money",stroke:"#6b7280",fontSize:10,tickFormatter:w}),(0,a.jsx)(j.B,{yAxisId:"ratio",orientation:"right",stroke:"#f59e0b",fontSize:10,tickFormatter:e=>"".concat(e,"x")}),(0,a.jsx)(g.u,{content:(0,a.jsx)(M,{})}),(0,a.jsx)(b.x,{yAxisId:"money",type:"monotone",dataKey:"ltv",stroke:"#10b981",strokeWidth:2,dot:!1,name:"LTV \\u20ac"}),(0,a.jsx)(b.x,{yAxisId:"money",type:"monotone",dataKey:"cac",stroke:"#ef4444",strokeWidth:2,dot:!1,name:"CAC \\u20ac"}),(0,a.jsx)(b.x,{yAxisId:"ratio",type:"monotone",dataKey:"ratio",stroke:"#f59e0b",strokeWidth:2,dot:!1,name:"LTV:CAC",strokeDasharray:"4 4"})]})})}),(0,a.jsx)(C,{title:"Fuentes de trafico",subtitle:"Organico vs paid vs referidos",children:(0,a.jsx)(h.h,{width:"100%",height:260,children:(0,a.jsxs)(f.c,{data:u,children:[(0,a.jsx)(p.q,{strokeDasharray:"3 3",stroke:"#1f2937"}),(0,a.jsx)(y.K,{dataKey:"month",stroke:"#6b7280",fontSize:10,tickFormatter:e=>"M".concat(e)}),(0,a.jsx)(j.B,{stroke:"#6b7280",fontSize:10,tickFormatter:w}),(0,a.jsx)(g.u,{content:(0,a.jsx)(M,{})}),(0,a.jsx)(k.u,{type:"monotone",dataKey:"organico",fill:"#10b981",fillOpacity:.3,stroke:"#10b981",strokeWidth:1.5,name:"Organico"}),(0,a.jsx)(k.u,{type:"monotone",dataKey:"paid",fill:"#3b82f6",fillOpacity:.3,stroke:"#3b82f6",strokeWidth:1.5,name:"Paid"}),(0,a.jsx)(k.u,{type:"monotone",dataKey:"referidos",fill:"#f59e0b",fillOpacity:.3,stroke:"#f59e0b",strokeWidth:1.5,name:"Referidos"})]})})}),(0,a.jsx)(C,{title:"Revenue acumulado",subtitle:"Ingresos totales generados",children:(0,a.jsx)(h.h,{width:"100%",height:260,children:(0,a.jsxs)(f.c,{data:r.map(e=>({month:e.month,revenue:e.cumulativeRevenue})),children:[(0,a.jsx)(p.q,{strokeDasharray:"3 3",stroke:"#1f2937"}),(0,a.jsx)(y.K,{dataKey:"month",stroke:"#6b7280",fontSize:10,tickFormatter:e=>"M".concat(e)}),(0,a.jsx)(j.B,{stroke:"#6b7280",fontSize:10,tickFormatter:w}),(0,a.jsx)(g.u,{content:(0,a.jsx)(M,{prefix:"\\u20ac"})}),(0,a.jsx)(k.u,{type:"monotone",dataKey:"revenue",fill:"#8b5cf6",fillOpacity:.2,stroke:"#8b5cf6",strokeWidth:2,name:"Revenue total"})]})})})]})}function C(e){let{title:t,subtitle:r,children:n}=e;return(0,a.jsxs)("div",{className:"bg-surface rounded-lg border border-gray-800 p-4",children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-white",children:t}),(0,a.jsx)("p",{className:"text-[10px] text-gray-500",children:r})]}),n]})}function M(e){let{active:t,payload:r,label:n,prefix:o,suffix:i}=e;return t&&r?(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded px-3 py-2 text-xs",children:[(0,a.jsxs)("p",{className:"text-gray-400 mb-1",children:["Mes ",n]}),r.map((e,t)=>(0,a.jsxs)("p",{style:{color:e.stroke||e.fill},children:[e.name,": ",o||"","number"==typeof e.value?e.value.toLocaleString("es-ES"):e.value,i||""]},t))]}):null}function w(e){return e>=1e6?"€".concat((e/1e6).toFixed(1),"M"):e>=1e3?"€".concat((e/1e3).toFixed(0),"k"):"€".concat(e)}function R(e){let{state:t}=e;return(0,a.jsxs)("div",{className:"bg-surface rounded-lg border border-gray-800 p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-white mb-3",children:"Diagrama Stock-Flow"}),(0,a.jsxs)("svg",{viewBox:"0 0 900 180",className:"w-full",style:{maxHeight:180},children:[(0,a.jsx)(N,{x1:175,y1:70,x2:265,y2:70,label:"".concat(t.leads,"/mes"),color:"#6b7280"}),(0,a.jsx)(N,{x1:415,y1:70,x2:505,y2:70,label:"".concat(t.newStudents,"/mes"),color:"#6b7280"}),(0,a.jsx)(N,{x1:655,y1:70,x2:745,y2:70,label:"".concat(t.churnedThisMonth,"/mes"),color:"#ef4444"}),(0,a.jsx)("path",{d:"M 580 110 C 580 160, 100 160, 100 100",fill:"none",stroke:"#f59e0b",strokeWidth:1.5,strokeDasharray:"4 4",markerEnd:"url(#arrowYellow)"}),(0,a.jsxs)("text",{x:340,y:170,fill:"#f59e0b",fontSize:10,textAnchor:"middle",children:["Referidos: ",t.referralVisitors,"/mes"]}),(0,a.jsx)(S,{x:20,y:40,w:155,label:"Visitantes",value:K(t.visitors),color:"#6b7280"}),(0,a.jsx)(S,{x:265,y:40,w:150,label:"Leads",value:K(t.leads),color:"#3b82f6"}),(0,a.jsx)(S,{x:505,y:40,w:150,label:"Alumnos",value:K(t.activeStudents),color:"#10b981"}),(0,a.jsx)(S,{x:745,y:40,w:140,label:"Inactivos",value:K(t.churnedTotal),color:"#ef4444"}),(0,a.jsx)("text",{x:220,y:30,fill:"#9ca3af",fontSize:9,textAnchor:"middle",children:"registro"}),(0,a.jsx)("text",{x:460,y:30,fill:"#9ca3af",fontSize:9,textAnchor:"middle",children:"conversion"}),(0,a.jsx)("text",{x:700,y:30,fill:"#9ca3af",fontSize:9,textAnchor:"middle",children:"churn"}),(0,a.jsx)(A,{x:580,y:120,label:"MRR: €".concat(K(t.mrr)),color:"#8b5cf6"}),(0,a.jsx)(A,{x:740,y:120,label:"Soporte: ".concat(t.supportQuality,"%"),color:t.supportQuality>=80?"#10b981":t.supportQuality>=50?"#f59e0b":"#ef4444"}),(0,a.jsxs)("defs",{children:[(0,a.jsx)("marker",{id:"arrowGray",markerWidth:8,markerHeight:6,refX:8,refY:3,orient:"auto",children:(0,a.jsx)("path",{d:"M 0 0 L 8 3 L 0 6 Z",fill:"#6b7280"})}),(0,a.jsx)("marker",{id:"arrowRed",markerWidth:8,markerHeight:6,refX:8,refY:3,orient:"auto",children:(0,a.jsx)("path",{d:"M 0 0 L 8 3 L 0 6 Z",fill:"#ef4444"})}),(0,a.jsx)("marker",{id:"arrowYellow",markerWidth:8,markerHeight:6,refX:8,refY:3,orient:"auto",children:(0,a.jsx)("path",{d:"M 0 0 L 8 3 L 0 6 Z",fill:"#f59e0b"})})]})]})]})}function S(e){let{x:t,y:r,w:n,label:o,value:i,color:s}=e;return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{x:t,y:r,width:n,height:55,rx:6,fill:"none",stroke:s,strokeWidth:2}),(0,a.jsx)("text",{x:t+n/2,y:r+22,fill:s,fontSize:11,textAnchor:"middle",fontWeight:"600",children:o}),(0,a.jsx)("text",{x:t+n/2,y:r+42,fill:"white",fontSize:14,textAnchor:"middle",fontWeight:"bold",children:i})]})}function A(e){let{x:t,y:r,label:n,color:o}=e;return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{x:t,y:r,width:130,height:28,rx:14,fill:"none",stroke:o,strokeWidth:1.5,strokeDasharray:"4 2"}),(0,a.jsx)("text",{x:t+65,y:r+18,fill:o,fontSize:10,textAnchor:"middle",fontWeight:"500",children:n})]})}function N(e){let{x1:t,y1:r,x2:n,y2:o,label:i,color:s}=e,l="#ef4444"===s?"arrowRed":"arrowGray";return(0,a.jsxs)("g",{children:[(0,a.jsx)("line",{x1:t,y1:r,x2:n-10,y2:o,stroke:s,strokeWidth:1.5,markerEnd:"url(#".concat(l,")")}),(0,a.jsx)("text",{x:(t+n)/2,y:r+20,fill:s,fontSize:9,textAnchor:"middle",children:i})]})}function K(e){return e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"k"):String(Math.round(e))}function F(){let[e,t]=(0,n.useState)(o),[r,i]=(0,n.useState)(null),[l,m]=(0,n.useState)(0);(0,n.useEffect)(()=>{let t=setTimeout(()=>{let t=performance.now(),r=function(e){let t=[];t.push(s(e));for(let r=1;r<e.monteCarloRuns;r++)t.push(s(function(e,t){let r={...e};for(let a of["monthlyAdSpend","costPerClick","organicVisitorsBase","organicGrowthRate","registrationRate","conversionRate","monthlyPrice","premiumPrice","premiumAdoption","baseChurnRate","contentQuality","referralRate","referralConversion","revenueToMarketing"]){let n=e[a],o=function(){let e=0,t=0;for(;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}()*t*Math.max(n,1);r[a]=Math.max(0,n+o)}return r}(e,e.uncertainty)));return{median:c(t,.5,"mrr"),p10:c(t,.1,"mrr"),p25:c(t,.25,"mrr"),p75:c(t,.75,"mrr"),p90:c(t,.9,"mrr"),runs:t}}(e);m(Math.round(performance.now()-t)),i(r)},80);return()=>clearTimeout(t)},[e]);let u=(0,n.useCallback)((e,r)=>{t(t=>({...t,[e]:r}))},[]),x=null==r?void 0:r.median[r.median.length-1],h=null==r?void 0:r.p10[r.p10.length-1],f=null==r?void 0:r.p90[r.p90.length-1];return(0,a.jsxs)("div",{className:"min-h-screen bg-bg text-gray-200 flex flex-col",children:[(0,a.jsx)("header",{className:"border-b border-gray-800 px-6 py-3 flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-white tracking-tight",children:"Growth Simulator"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["System Dynamics + Monte Carlo \xb7 ",l,"ms"]})]}),(0,a.jsxs)("div",{className:"flex gap-8",children:[(0,a.jsx)(z,{label:"MRR",value:P(null==x?void 0:x.mrr),range:"".concat(P(null==h?void 0:h.mrr)," - ").concat(P(null==f?void 0:f.mrr))}),(0,a.jsx)(z,{label:"ARR",value:P(12*((null==x?void 0:x.mrr)||0))}),(0,a.jsx)(z,{label:"Alumnos",value:"".concat((null==x?void 0:x.activeStudents)||0)}),(0,a.jsx)(z,{label:"LTV:CAC",value:"".concat((null==x?void 0:x.ltvCacRatio)||0,":1"),color:((null==x?void 0:x.ltvCacRatio)||0)>=3?"text-emerald-400":"text-red-400"}),(0,a.jsx)(z,{label:"Churn efectivo",value:"".concat((null==x?void 0:x.effectiveChurnRate)||0,"%"),color:5>=((null==x?void 0:x.effectiveChurnRate)||0)?"text-emerald-400":"text-amber-400"})]})]})}),(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,a.jsx)("aside",{className:"w-80 flex-shrink-0 border-r border-gray-800 overflow-y-auto p-4",children:(0,a.jsx)(d,{params:e,onChange:u})}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R,{state:r.median[r.median.length-1]}),(0,a.jsx)(v,{results:r})]})})]})]})}function z(e){let{label:t,value:r,range:n,color:o}=e;return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:t}),(0,a.jsx)("div",{className:"text-base font-bold ".concat(o||"text-white"),children:r}),n&&(0,a.jsx)("div",{className:"text-[10px] text-gray-600",children:n})]})}function P(e){return null==e?"€0":e>=1e6?"€".concat((e/1e6).toFixed(1),"M"):e>=1e3?"€".concat((e/1e3).toFixed(0),"k"):"€".concat(Math.round(e))}}},function(e){e.O(0,[542,971,117,744],function(){return e(e.s=5908)}),_N_E=e.O()}]);